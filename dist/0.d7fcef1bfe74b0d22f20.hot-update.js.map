{"version":3,"sources":["webpack:///./server/server.js?268d","webpack:///./server/renderedPageRouter.jsx?d701","webpack:///external \"react\"?3c62","webpack:///external \"react-dom/server\"?41bd","webpack:///external \"react-router\"?ee16","webpack:///./server/template.js?4826","webpack:///./src/Routes.jsx?ff51","webpack:///./src/App.jsx?b0c7","webpack:///external \"react-bootstrap\"?52af","webpack:///external \"react-router-bootstrap\"?e4dc","webpack:///./src/IssueAddNavItem.jsx?4bb5","webpack:///external \"prop-types\"?b65a","webpack:///./src/Toast.jsx?4da4","webpack:///./src/IssueList.jsx?e290","webpack:///./src/IssueFilter.jsx?4fd2","webpack:///./src/IssueEdit.jsx?74ff","webpack:///./src/NumInput.jsx?fa95","webpack:///./src/DateInput.jsx?99be","webpack:///./src/ContextWrapper.jsx?7b27","webpack:///external \"isomorphic-fetch\"?9f67"],"names":["app","use","express","static","bodyParser","json","db","get","req","res","filter","query","status","effort_lte","effort_gte","effort","$lte","parseInt","$gte","collection","find","toArray","then","metadata","total_count","issues","length","_metadata","records","catch","console","log","error","message","post","newIssue","body","created","Date","err","Issue","validateIssue","insertOne","cleanupIssue","_id","result","insertedId","limit","next","savedIssue","issueId","params","id","ObjectId","issue","put","updateOne","convertIssue","delete","deleteOne","deleteResult","n","renderedPageRouter","setDb","newDb","Router","routes","location","url","redirectLocation","renderProps","send","redirect","pathname","search","fetch","response","initialState","data","html","template","initalState","JSON","stringify","NoMatch","App","IssueList","IssueEdit","Header","props","children","propTypes","React","PropTypes","object","isRequired","IssueAddNavItem","state","showing","toastVisible","toastMessage","toastType","showModal","bind","hideModal","submit","showError","dismissToast","setState","e","preventDefault","form","document","forms","issueAdd","owner","value","title","method","headers","ok","router","push","updatedIssue","Component","Toast","clearTimeout","dismissTimer","setTimeout","onDismiss","position","top","left","right","texAlign","display","width","bsStyle","bool","func","string","any","defaultProps","IssueRow","onDeleteClick","deleteIssue","substr","toDateString","completionDate","IssueTable","issueRows","map","array","context","forEach","setFilter","loadData","prevProps","oldQuery","newQuery","contextTypes","IssueFilter","initFilter","changed","onChangeStatus","onChangeEffortGte","onChangeEffortLte","resetFilter","applyFilter","clearFilter","newProps","target","effortString","fortString","match","newFilter","invalidFields","showingValidation","onChange","onValidityChange","onSubmit","dismissValidation","showValidation","showSuccess","event","valid","Object","assign","name","convertedValue","undefined","keys","validationMessage","ControlLabel","NumInput","DateInput","format","onBlur","unformat","num","toString","str","val","isNaN","number","editFormat","focused","onFocus","date","toISOString","getTime","displayFormat","childProps","ContextWrapper","childContextTypes"],"mappings":"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","file":"0.d7fcef1bfe74b0d22f20.hot-update.js","sourcesContent":["\nimport express from \"express\";\nimport bodyParser from 'body-parser';\n//import mongodb driver features\nimport { ObjectId } from 'mongodb';\nimport Issue from './issue.js';\nimport renderedPageRouter from './renderedPageRouter.jsx';\n\n//create express instance\nconst app = express();\n//using middleware static, show that static files placed in 'static' folder\napp.use(express.static('static'));\n//create and mount bodyParser middleware, which helps to parse .json file \n//to simple object, at the application level\napp.use(bodyParser.json());\n//create global variable for mongoDB connection\nlet db;\n\n//this API is designed for finding issues by filter\n//'/api' is a prefix, which shows that issues is an API, it's not path\napp.get('/api/issues', (req, res) => {\n  const filter = {};//by default filter is empty object\n  if (req.query.status) {//if in parsed query string from request from client there is any status,\n    //now filter's status is equal to status from parsed query string\n    filter.status = req.query.status;\n  }\n  if (req.query.effort_lte || req.query.effort_gte) {\n    filter.effort = {};\n  }\n  if (req.query.effort_lte ) {\n    filter.effort.$lte = parseInt(req.query.effort_lte, 10);\n  }\n  if (req.query.effort_gte ) {\n    filter.effort.$gte = parseInt(req.query.effort_gte, 10);\n  }\n  //any collection in mongo DB has method 'collection', which allows us supply the name\n  //of collection (issues in this case), to indicate exactly which collection from data base\n  db.collection('issues').find(filter).toArray()\n  .then(issues => {\n    //returning document given by find(filter) method \n    const metadata = { total_count: issues.length };\n    res.json({ _metadata: metadata, records: issues });\n  })\n  .catch(error => {\n    console.log(error);\n    res.status(500).json({ message: `Internal Server error ${error}` });\n  });\n});\n\n\n//this API is designed for creating new 'issues'\n//.post creates an object which is supplied from the body\napp.post('/api/issues',(req, res) => {\n  //req.body containts the body of created new issue, it's valid for post \n  //NOTE: req.body will be undefined, if there is no middleware (bodyParser f.e.x) for interpret\n  const newIssue = req.body;\n  newIssue.created = new Date();//because of we have no filed for setting date, we assign it here\n  //if created issue doesn't have any status from user initally, assign status 'New'\n  if (!newIssue.status) {\n    newIssue.status = 'New';\n  }\n  const err = Issue.validateIssue(newIssue);\n  if (err) {\n    res.status(422).json({ message: `Invalid request: ${err}` });\n    return;\n  }\n  //insert newIssue variable, which contains created issue to data base\n  //before insert validate newIssue by cleanupIssue function from imported Issue variable\n  db.collection('issues').insertOne(Issue.cleanupIssue(newIssue)).then(result => \n    //while it's inserting, it gets new id, which stored in property insertedId\n    db.collection('issues').find({_id: result.insertedId}).limit(1)\n    .next()\n  )\n  .then(savedIssue => {\n    res.json(savedIssue);\n  })\n  .catch(error => {\n    console.log(error);\n    res.status(500).json({message: `Internal Server Error: ${error}` });\n  });\n});\n\napp.get('/api/issues/:id', (req, res) => {\n  let issueId;\n  console.log(req.params.id);\n  try {\n    issueId = new ObjectId(req.params.id);//for using ObjectId() you need import it from mongodb\n  } catch(error) {\n    res.status(422).json({ message: `Invalid issue ID format : ${error}` });\n    return;\n  }\n  db.collection('issues').find({ _id: issueId }).limit(1)\n    .next()\n    .then(issue => {\n      if(!issue) {\n        res.status(404).json({ message: `No such issue: ${issueId}` });\n      } else {\n        res.json(issue);\n      }\n    })\n    .catch(error => {\n      console.log(error);\n      res.status(500).json({ message: `Internal Server Error: ${error}`});\n    });\n});\n//Update API\napp.put('/api/issues/:id', (req, res) => {\n  let issueId;\n  try {\n    issueId = new ObjectId(req.params.id);\n  } catch (error) {\n    res.status(422).json({ message: `Invalid issue ID format: ${error}` });\n    return;\n  }\n  const issue = req.body;\n  delete issue._id;\n  const err = Issue.validateIssue(issue);\n  if (err) {\n    res.status(422).json({ message: `Invalid request: ${err}` });\n    return;\n  }\n  db.collection('issues').updateOne({ _id: issueId }, Issue.convertIssue(issue)).then(() => \n      db.collection('issues').find({ _id: issueId }).limit(1)\n      .next()\n    )\n    .then(savedIssue => {\n      res.json(savedIssue);\n    })\n    .catch(error => {\n      console.log(error);\n      res.status(500).json({ message: `Internal Server Error: ${error}` });\n    });\n});\n//delete API:\napp.delete('/api/issues/:id', (req, res) => {\n  let issueId;\n  try {\n    issueId = new ObjectId(req.params.id);\n  } catch (error) {\n    res.status(422).json({ message: `Invalid issue ID format: ${error}` });\n    return;\n  }\n  db.collection('issues').deleteOne({ _id: issueId }).then((deleteResult) => {\n    if(deleteResult.result.n === 1){\n      res.json({ status: \"OK\" });\n    } else {\n      res.json({ status: \"Warning: object not found\"});\n    }\n  })\n  .catch(error => {\n    console.log(error);\n    res.status(500).json({ message: `Internal server error: ${error}`});\n  });\n});\napp.use('/', renderedPageRouter);\n//MongoClient is an object provided by mongodb module, allows us act as a client\n//'connect' method connecting the database from Node.js\nfunction setDb(newDb) {\n  db = newDb;\n}\nexport { app, setDb };\n\n\n// WEBPACK FOOTER //\n// ./server/server.js","import React from 'react';\nimport { renderToString } from 'react-dom/server';\nimport { match, RouterContext } from 'react-router';\nimport Router from 'express';\n\nimport template from './template.js';\nimport routes from '../src/Routes.jsx';\nimport ContextWrapper from '../src/ContextWrapper.jsx';\n\nconst renderedPageRouter = new Router();\n\nrenderedPageRouter.get('*', (req, res) => {\n  match({ routes, location: req.url }, (error, redirectLocation, renderProps) => {\n    if (error) {\n      res.status(500).send(error.message);\n    } else if (redirectLocation) {\n      res.redirect(302, redirectLocation.pathname + redirectLocation.search);\n    } else if (renderProps) {\n      fetch(`http:/\\/localhost:3000/api${req.url}`).then(response =>(response.json()))\n      .then(data => {\n        const initialState = { data };\n        const html = renderToString(\n          <ContextWrapper initialState = {initialState}>\n            <RouterContext {...renderProps} />\n          </ContextWrapper>\n         );\n        res.status(200).send(template(html, initialState));\n      })\n      .catch(err => {\n        console.log(`Error rendering to string: ${err}`);\n      });\n    } else {\n    \tres.status(404).send('Not Found');\n    }\n  });\n});\nexport default renderedPageRouter;\n\n\n// WEBPACK FOOTER //\n// ./server/renderedPageRouter.jsx","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"react-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router\"\n// module id = 13\n// module chunks = 0","export default function template(body, initalState) {\n  return `<!DOCTYPE HTML>\n<html>\n<head>\n  <meta charset=\"UTF-8\" />\n  <title>Pro MERN Stack</title>\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <link rel=\"stylesheet\" href=\"/bootstrap/css/bootstrap.min.css\" >\n  <style>\n    .panel-title a {display: block; width: 100%; cursor: pointer; }\n  </style>\n</head>\n<body>\n  <div id=\"contents\">${body}</div>    <!-- this is where our component will appear -->\n  <script> window.__INITIAL_STATE__ = ${JSON.stringify(initalState)}</script>\n  <script src=\"/vendor.bundle.js\"></script>\n  <script src=\"/app.bundle.js\"></script>\n</body>\n</html>\n`;\n}\n\n\n// WEBPACK FOOTER //\n// ./server/template.js","import React from 'react';\nimport { Route, IndexRedirect, withRouter } from 'react-router';\n\nimport App from './App.jsx';\nimport IssueList from './IssueList.jsx';\nimport IssueEdit from './IssueEdit.jsx';\n\nconst NoMatch = () => <p>Page Not Found</p>;\n\nexport default (\n  <Route path=\"/\" component={App} >\n    <IndexRedirect to=\"/issues\" />\n    <Route path=\"issues\" component={withRouter(IssueList)} />\n    <Route path=\"issues/:id\" component={IssueEdit} />\n    <Route path=\"*\" component={NoMatch} />\n  </Route>\n);\n\n\n// WEBPACK FOOTER //\n// ./src/Routes.jsx","import 'babel-polyfill';\nimport React from 'react';\nimport { Navbar, Nav, NavItem, NavDropdown, MenuItem, Glyphicon } from 'react-bootstrap';\nimport { LinkContainer } from 'react-router-bootstrap';\n\nimport IssueAddNavItem from './IssueAddNavItem.jsx';\n\nconst Header = () => (\n  <Navbar fluid>\n    <Navbar.Header>\n      <Navbar.Brand>Issue Tracker</Navbar.Brand>\n    </Navbar.Header>\n    <Nav>\n      <LinkContainer to=\"/issues\">\n        <NavItem>Issues</NavItem>\n      </LinkContainer>\n      <LinkContainer to=\"/reports\">\n        <NavItem>Reports</NavItem>\n      </LinkContainer>\n    </Nav>\n    <Nav pullRight>\n      <IssueAddNavItem />\n      <NavDropdown id=\"user-dropdown\" title={<Glyphicon glyph=\"option-horizontal\" />} noCaret>\n        <MenuItem>Logout</MenuItem>\n      </NavDropdown>\n    </Nav>\n  </Navbar>\n);\n\nconst App = (props) => (\n  <div>\n    <Header />\n    <div className=\"container-fluid\">\n      {props.children}\n      <hr />\n      <h5><small>\n        Full source code available at this <a href=\"https://github.com/vasansr/pro-mern-stack\">\n        GitHub repository</a>.\n      </small></h5>\n    </div>\n  </div>\n);\n\nApp.propTypes = {\n  children: React.PropTypes.object.isRequired,\n};\n\nexport default App;\n\n\n// WEBPACK FOOTER //\n// ./src/App.jsx","module.exports = require(\"react-bootstrap\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-bootstrap\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"react-router-bootstrap\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-bootstrap\"\n// module id = 18\n// module chunks = 0","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router';\nimport { NavItem, Glyphicon, Modal, Form, FormGroup, FormControl, ControlLabel, Button, ButtonToolbar } from 'react-bootstrap';\nimport Toast from './Toast.jsx';\n//we don't use 'export default class' because of we use whthRouter function instead. It means, that we wrap this whole\n//component before exporting, not after as it is in App.jsx with IssueList. thus we encapsulate usage of router within this component\nclass IssueAddNavItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showing: false,\n      toastVisible: false, toastMessage: '', toastType:  'success',\n    };\n    this.showModal = this.showModal.bind(this);\n    this.hideModal = this.hideModal.bind(this);\n    this.submit = this.submit.bind(this);\n    this.showError = this.showError.bind(this);\n    this.dismissToast = this.dismissToast.bind(this);\n  }\n  showModal() {\n    this.setState({ showing: true });\n  }\n  hideModal() {\n    this.setState({ showing: false });\n  }\n  showError() {\n    this.setState({ toastVisible: true, toastMessage: message, toastType: 'danger'});\n  }\n  dismissToast() {\n    this.setState({ toastVisible: false });\n  }\n  submit(e) {\n    e.preventDefault();\n    this.hideModal();\n    const form = document.forms.issueAdd;\n    const newIssue = {\n      owner: form.owner.value, title: form.title.value, status: 'New', created: new Date(),\n    };\n    fetch('api/issues', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(newIssue),\n    }).then(response => {\n      if (response.ok) {\n        response.json().then(updatedIssue => {\n          this.props.router.push(`/issues/${updatedIssue._id}`);\n        });\n      }\n    }).catch(err => {\n      this.showError(`Error in sending data to server: ${err.message}`);\n    });\n  }\n  render() {\n    return(\n      <NavItem onClick={this.showModal}><Glyphicon glyph=\"plus\"/>Create Issue\n        <Modal keyboard show={this.state.showing} onHide={this.hideModal}>\n          <Modal.Header closeButton>\n            <Modal.Title>Create Issue</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            <Form name=\"issueAdd\">\n              <FormGroup>\n                <ControlLabel>Title</ControlLabel>\n                <FormControl name=\"title\" autoFocus />\n              </FormGroup>\n              <FormGroup>\n                <ControlLabel>Owner</ControlLabel>\n                <FormControl name=\"owner\" />\n              </FormGroup>\n            </Form>\n          </Modal.Body>\n          <Modal.Footer>\n            <ButtonToolbar>\n              <Button type=\"button\" bsStyle=\"primary\" onClick={this.submit}>Submit</Button>\n              <Button bsStyle=\"link\" onClick={this.hideModal}>Cancel</Button>\n            </ButtonToolbar>\n          </Modal.Footer>\n        </Modal>\n      </NavItem>\n    );\n  }\n}\nIssueAddNavItem.propTypes = {\n  router: PropTypes.object,\n}\nexport default withRouter(IssueAddNavItem);\n\n\n// WEBPACK FOOTER //\n// ./src/IssueAddNavItem.jsx","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 20\n// module chunks = 0","import React from 'react';\nimport { Alert, Collapse } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\n\nexport default class Toast extends React.Component {\n  componentDidUpdate() {\n    if (this.props.showing) {\n      clearTimeout(this.dismissTimer);\n      this.dismissTimer = setTimeout(this.props.onDismiss, 5000);\n    }\n  }\n  componentWillUnmount() {\n    clearTimeout(this.dismissTimer);\n  }\n  render() {\n    return (\n      <Collapse in={this.props.showing}>\n        <div style={{position: 'fixed', top: 30, left: 30, right: 0, texAlign: 'center' }}>\n          <Alert style={{ display: 'inline-block', width: 500 }} bsStyle={this.props.bsStyle} onDismiss={this.props.onDismiss}>\n            {this.props.message}\n          </Alert>\n        </div>\n      </Collapse>\n    );\n  }\n}\nToast.propTypes = {\n  showing: PropTypes.bool.isRequired,\n  onDismiss: PropTypes.func.isRequired,\n  bsStyle: PropTypes.string,\n  message: PropTypes.any.isRequired,\n};\nToast.defaultProps ={\n  bsStyle: 'success',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/Toast.jsx","\nimport React from 'react';\nimport 'isomorphic-fetch';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router';\nimport { Button, Glyphicon, Table, Panel } from 'react-bootstrap';\n\nimport IssueFilter from './IssueFilter.jsx';\nimport Toast from './Toast.jsx';\nimport IssueAddNavItem from './IssueAddNavItem.jsx';\n\nconst IssueRow = (props) => {\n  function onDeleteClick() {\n    props.deleteIssue(props.issue._id);\n  }\n  return(\n    <tr>\n      <td>\n        <Link to={`/issues/${props.issue._id}`}>\n          { props.issue._id.substr(-4) }\n        </Link>\n      </td>\n      <td>{props.issue.status}</td>\n      <td>{props.issue.owner}</td>\n      <td>{props.issue.created.toDateString()}</td>\n      <td>{props.issue.effort}</td>\n      <td>{props.issue.completionDate ? props.issue.completionDate.toDateString() : ''}</td>\n      <td>{props.issue.title}</td>\n      <td>\n        <Button bsSize=\"xsmall\" onClick={onDeleteClick}>\n          <Glyphicon glyph=\"trash\" />\n        </Button>\n      </td>\n    </tr>\n  );\n};\nIssueRow.propTypes = {\n  issue: PropTypes.object.isRequired, // eslint-disable-line react/forbid-prop-types\n  deleteIssue: PropTypes.func.isRequired,\n};\nfunction IssueTable(props) {\n  const issueRows = props.issues.map(issue => <IssueRow key={issue._id} issue={issue} deleteIssue={props.deleteIssue} />);\n  return (\n    <Table bordered condensed responsive hover>\n      <thead>\n        <tr>\n          <th>Id</th>\n          <th>Status</th>\n          <th>Owner</th>\n          <th>Created</th>\n          <th>Effort</th>\n          <th>Completion Date</th>\n          <th>Title</th>\n          <th>Action</th>\n        </tr>\n      </thead>\n      <tbody>{issueRows}</tbody>\n    </Table>\n  );\n}\nIssueTable.propTypes = {\n  issues: PropTypes.array.isRequired, // eslint-disable-line react/forbid-prop-types\n  deleteIssue: PropTypes.func.isRequired,\n};\n\nexport default class IssueList extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    console.log(context.initialState.data);\n    const issues = context.initialState.data.records;\n    console.log(props, context);\n    issues.forEach(issue => {\n      issue.created = new Date(issue.created);\n      if (issue.completionDate) {\n        issue.completionDate = new Date(issue.completionDate);\n      }\n    });\n    this.state = { \n      issues,\n      toastVisible: false, toastMessage: '', toastType: 'success',\n    };\n    this.setFilter = this.setFilter.bind(this);\n    this.deleteIssue = this.deleteIssue.bind(this);\n    this.showError = this.showError.bind(this);\n    this.dismissToast = this.dismissToast.bind(this);\n  }\n  componentDidMount() {\n    this.loadData();\n  }\n  //this function look for any changes in filter fields and invoked immediately after updating occurs\n  componentDidUpdate(prevProps) {//prevProps means state of props before changing\n    const oldQuery = prevProps.location.query;//location - URL address of prevProps\n    const newQuery = this.props.location.query;\n    //if comparing show no changes, return prevProps as it was\n    if (oldQuery.status === newQuery.status &&\n        oldQuery.effort_gte === newQuery.effort_gte &&\n        oldQuery.effort_lte === newQuery.effort_lte) {\n      return;\n    }\n    this.loadData();\n  }\n  showError(message) {\n    this.setState({ toastVisible: true, toastMessage: message, toastType: 'danger' });\n  }\n  dismissToast() {\n    this.setState({ toastVisible: false });\n  }\n  loadData() {\n    //this.props.location.search = ?effort_gte=some_number&status(filter value in unparsed URL)\n    fetch(`/api/issues${this.props.location.search}`).then(response => {\n      if (response.ok) {// ok = true and means, that response was successful\n        response.json().then((data) => {\n          //data is a variable, which get data from server, _metadata is an object of that data\n          console.log('Total count of records:', data._metadata.total_count);//total count is a property of metadata\n          data.records.forEach((issue) => {//records is a property which keeps issues = [{...}] inside it\n            issue.created = new Date(issue.created);//assign date of creation issue\n            if (issue.completionDate) { // if user appointed date to complete issue\n              issue.completionDate = new Date(issue.completionDate);//take this and put in object Date()\n            }\n          });\n          this.setState({ issues: data.records });//then change the state issues:[] to real issues data\n        });\n      } else {\n        response.json().then((error) => {\n          this.showError(`Failed to fetch issues:${error.message}`);\n        });\n      }\n    }).catch((err) => {\n      this.showError('Error in fetching data from server:', err);\n    });\n  }\n  //this method calls from the IssueFilter component\n  setFilter(query){//takes 'query' which is an object f.e.g.{ status: 'Open', effort_gte: '10', effort_lte: '11'} according to filter settings\n    //and push it to browser URL as a query string looks like ?effort_gte=10&effort_lte=11&status=Open\n    this.props.router.push({ pathname: this.props.location.pathname, query });\n  }\n  //this method calls from the IssueAdd component\n  \n  deleteIssue(id) {\n    fetch(`/api/issues/${id}`, {method: 'DELETE'}).then(response => {\n      if (!response.ok) {\n        this.showError('Failed to delete issue');\n      } else {\n        this.loadData();\n      }\n    })\n  }\n  render() {\n    return (\n      <div>\n        <Panel collapsible header=\"Filter\">\n          <IssueFilter setFilter={this.setFilter} initFilter={this.props.location.query} />\n        </Panel>\n        <hr />\n        <IssueTable issues={this.state.issues} deleteIssue={this.deleteIssue} />\n        <hr />\n        <Toast showing={this.state.toastVisible} message={this.state.toastMessage} onDismiss={this.dismissToast} \n        bsStyle={this.state.toastType}/>\n      </div>\n    );\n  }\n}\nIssueList.propTypes = {\n  location: PropTypes.object.isRequired,\n  router: PropTypes.object,\n}\nIssueList.contextTypes = {\n  initialState: PropTypes.object,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/IssueList.jsx","\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Col, Row, FormGroup, FormControl, ControlLabel, InputGroup, ButtonToolbar, ButtonGroup, Button } from 'react-bootstrap';\n//import { a  } from 'react-router';\n\nexport default class IssueFilter extends React.Component {\n  constructor(props) {//props means props given from parent component (setFilter in this case)\n    super(props);\n    this.state = {//this is initial state of filter: any value from previous filtering or ''\n      status: props.initFilter.status || '',//initFilter is a variable, which is a part of state\n      effort_gte: props.initFilter.effort_gte || '',//initFilter connects state and displayed value\n      effort_lte: props.initFilter.effort_lte || '',//so, when we change initFilter, displayed value changing too\n      changed: false,\n    }\n    this.onChangeStatus = this.onChangeStatus.bind(this);\n    this.onChangeEffortGte = this.onChangeEffortGte.bind(this);\n    this.onChangeEffortLte = this.onChangeEffortLte.bind(this);\n    this.resetFilter = this.resetFilter.bind(this);\n    this.applyFilter = this.applyFilter.bind(this);\n    this.clearFilter = this.clearFilter.bind(this);\n  }\n  //author of the book uses this method despite warning on React official documentation(ROD)\n  //he says it because of componentWillReceiveProps make code more readable and clear\n  //it's invoked whenever the props are changing, before a mounted component r e s e i v e s new props\n  //and update this.state on the fly\n\n  componentWillReceiveProps(newProps) {\n    this.setState({\n      status: newProps.initFilter.status || '',\n      effort_gte: newProps.initFilter.effort_gte || '',\n      effort_lte: newProps.initFilter.effort_lte || '',\n      changed: false,\n    });\n  }\n  //should be invoked by clicking corresponding button in filter section\n  //clear any filter settings before applying, similar to clearFilter, but before sending data\n  resetFilter() {\n    this.setState({\n      status: this.props.initFilter.status || '',\n      effort_gte: this.props.initFilter.effort_gte || '',\n      effort_lte: this.props.initFilter.effort_lte || '',\n      changed: false,\n    });\n  }\n  clearFilter(e) {\n    e.preventDefault();\n    this.props.setFilter({});\n  }\n  onChangeStatus(e){\n    this.setState({ status: e.target.value, changed: true });\n  }\n  //next two functions check if values in effort fields are digital, and if they are, change state variable\n  onChangeEffortGte(e) {\n    const effortString = e.target.value;\n    console.log(typeof fortString);\n    if (effortString.match(/^\\d+/)) {\n      this.setState({ effort_gte: e.target.value, changed:true });\n    }\n  }\n  onChangeEffortLte(e) {\n    const effortString = e.target.value;\n    console.log(typeof fortString);\n    if (effortString.match(/^\\d+/)) {\n      this.setState({ effort_lte: e.target.value, changed:true });\n    }\n  }\n  applyFilter() {\n    const newFilter = {};//variable for keeping each new filter settings\n    if (this.state.status) {\n      newFilter.status = this.state.status;\n    }\n    if (this.state.effort_gte) {\n      newFilter.effort_gte = this.state.effort_gte;\n    }\n    if (this.state.effort_lte) {\n      newFilter.effort_lte = this.state.effort_lte;\n    }\n    this.props.setFilter(newFilter);//this is parent props setFilter, with parameters from variable\n    //newFilter\n  }\n  \n  render() {\n    return (\n      <Row>\n        <Col xs={6} sm={4} md={3} lg={3}>\n          <FormGroup>\n            <ControlLabel>Status</ControlLabel>\n            <FormControl componentClass=\"select\" value={this.state.status} onChange={this.onChangeStatus}>\n              <option value=\"\">(Any)</option>\n              <option value=\"New\">New</option>\n              <option value=\"Open\">Open</option>\n              <option value=\"Assigned\">Assigned</option>\n              <option value=\"Fixed\">Fixed</option>\n              <option value=\"Verified\">Verified</option>\n              <option value=\"Closed\">Closed</option>\n            </FormControl>\n          </FormGroup>\n        </Col>\n        <Col xs={6} sm={4} md={3} lg={3}>\n          <FormGroup>\n            <ControlLabel>Effort</ControlLabel>\n              <InputGroup>\n                <FormControl value={this.state.effort_gte} onChange={this.onChangeEffortGte} />\n                <InputGroup.Addon>-</InputGroup.Addon>\n                <FormControl value={this.state.effort_lte} onChange={this.onChangeEffortLte} />\n              </InputGroup>\n          </FormGroup>\n        </Col>\n        <Col xs={6} sm={4} md={3} lg={3}>\n          <FormGroup>\n            <ControlLabel>&nbsp;</ControlLabel>\n            <ButtonToolbar >\n              <ButtonGroup bsSize=\"\">{/*the only way for sizing all group of button*/}\n                <Button bsStyle=\"primary\" onClick={this.applyFilter}>Apply</Button>\n                <Button onClick={this.resetFilter} disabled={!this.state.changed}>Reset</Button>\n                <Button onClick={this.clearFilter}>Clear</Button>\n              </ButtonGroup>\n            </ButtonToolbar>\n          </FormGroup>\n        </Col>\n      </Row>\n    );\n  }\n}\nIssueFilter.propTypes = {\n   setFilter: PropTypes.func.isRequired,\n   initFilter: PropTypes.object.isRequired,\n}\n// default\n\n\n\n// WEBPACK FOOTER //\n// ./src/IssueFilter.jsx","import React from 'react';\nimport { LinkContainer } from 'react-router-bootstrap';\nimport {Form, Col, FormGroup, FormControl, ControlLabel, ButtonToolbar, Button, Panel, Alert } from 'react-bootstrap';\nimport PropTypes from 'prop-types';\nimport NumInput from './NumInput.jsx';\nimport DateInput from './DateInput.jsx';\nimport Toast from './Toast.jsx';\n\nexport default class IssueEdit extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n    const issue = context.initialState.data;\n    issue.created = new Date(issue.created);\n    issue.completionDate = issue.completionDate != null ? new Date(issue.completionDate) : null;\n    this.state = {\n      issue,\n      invalidFields: {}, showingValidation: false,\n      toastVisible: false, toastMessage: '', toastType: 'success',\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onValidityChange = this.onValidityChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.dismissValidation = this.dismissValidation.bind(this);\n    this.showValidation = this.showValidation.bind(this);\n    this.showSuccess = this.showSuccess.bind(this);\n    this.showError = this.showError.bind(this);\n    this.dismissToast = this.dismissToast.bind(this);\n  }\n  componentDidMount() {\n    this.loadData();\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.params.id !== this.props.params.id){\n      this.loadData();\n    }\n  }\n  //we got 'valid' argument from child component\n  onValidityChange(event, valid) {\n    const invalidFields = Object.assign({}, this.state.invalidFields);\n    //in case, where user typed any wrong value,\n    if (!valid) {\n      invalidFields[event.target.name] = true;\n    } else {\n      //if it is correct initially or was corrected by user before submit\n      delete invalidFields[event.target.name];\n    }\n    //this manage only that state, which exists before submit\n    this.setState({ invalidFields });\n  }\n  //this works only without submit yet\n  onChange(event, convertedValue){\n    //clone state object to empty object 'issue' for the purpose of access to the 'name' properties of inputs\n    const issue = Object.assign({}, this.state.issue);\n    const value = (convertedValue !== undefined) ? convertedValue : event.target.value;\n    //f.e.g: event.target.name = status, event.target.value = New or date:'some date in string format'; \n    //we use target's name as a key in the state object to set the value in the state object\n   issue[event.target.name] = value;\n    //change this.state object conserning to new status\n    this.setState({ issue });\n\n  }\n  //the normal practice in react is creating our own submit function, and don't use default one\n  onSubmit(event) {\n    //because of 'submission' imply validation, which we have already done.\n    //(and if we don't use preventDefault, we get 'Error in sending data to server' message in this case)\n    event.preventDefault();\n    this.showValidation(); //shows validation message if some error\n    //this one enumerate all properties of this.state.invalidFields (including properties of prototype)\n    if (Object.keys(this.state.invalidFields).length !== 0) {\n      return;\n    }\n      fetch(`/api/issues/${this.props.params.id}`, {\n      method: 'PUT',\n      headers: {'Content-Type': 'application/json'},\n      body: JSON.stringify(this.state.issue),\n    }).then(response => {\n      if (response.ok) {\n        response.json().then(updatedIssue => {\n          updatedIssue.created = new Date(updatedIssue.created);\n          if (updatedIssue.completionDate) {\n            updatedIssue.completionDate = new Date(updatedIssue.completionDate);\n          }\n          this.setState({ issue: updatedIssue });\n          this.showSuccess('Updated issue successfully.');\n        });\n      } else {\n        response.json().then(error => {\n          this.showError(`Failed to update issue: ${error.message}`);\n        });\n      }\n    }).catch(err => {\n      this.showError(`Error in sending data to server: ${err.message}`);\n    });\n  }\n \n  loadData() {\n    //this.props.params.id means the issue id\n    fetch(`/api/issues/${this.props.params.id}`).then(response => {\n      if(response.ok) {\n        response.json().then(issue => {\n          //convert date to string\n          issue.created = new Date(issue.created);\n          //if issue.comletionDate NOT equal null, convert given new Date object to string, else - leave it empty\n          issue.completionDate = issue.completionDate != null ? new Date(issue.completionDate) : null;\n          //change this.state accordingly converted data\n          this.setState({ issue });\n        });\n      } else {\n        response.json().then(error => {\n          this.showError(`Failed to fetch issue: ${error.message}`);\n        });\n      }\n    }).catch(err => {\n      this.showError(`Error in fetching data from server: ${err.message}`);\n    });\n  }\n   showValidation() {\n    this.setState({ showingValidation: true });\n  }\n  dismissValidation() {\n    this.setState({ showingValidation: false });\n  }\n  showSuccess(message) {\n    this.setState({ toastVisible: true, toastMessage: message, toastType: 'success' });\n  }\n  showError(message) {\n    this.setState({ toastVisible: true, toastMessage: message, toastType: 'danger'});\n  }\n  dismissToast() {\n    this.setState({ toastVisible: false });\n  }\n  render() {\n    const issue = this.state.issue;\n    let validationMessage  = null; \n    if (Object.keys(this.state.invalidFields).length !== 0 && this.state.showingValidation) {\n      validationMessage = (\n        <Alert bsStyle=\"danger\" onDismiss={this.dismissValidation}>\n          Please, correct invalid fields before submitting.\n        </Alert>\n      );\n    }\n    return (\n      <Panel header=\"Edit Issue\">\n        <Form horizontal onSubmit={this.onSubmit}>\n          {/*horizontal helps us to set up pretty view of lines in this table*/}\n        <FormGroup>\n          <Col componentClass={ControlLabel} sm={3}> ID: </Col>\n          <Col sm={9}>\n            <FormControl.Static> {issue._id}</FormControl.Static>\n          </Col>\n        </FormGroup>\n        <FormGroup>\n          {/*we use ControlLabel as a componentClass of Col tag, because of we whish to combine Col and ControlLabel in one tag\n          and if it will be just simply put together (which is normally for others tags) we'll lose indentation*/}\n          <Col componentClass={ ControlLabel } sm={3}> Created: </Col>\n          <Col sm={9}>\n            {/*we  use .Static for the sake of clarity, that the element is unchangeable*/}\n            <FormControl.Static> {issue.created ? issue.created.toDateString() : ''}</FormControl.Static>\n          </Col>\n        </FormGroup>\n        <FormGroup>\n          <Col componentClass={ ControlLabel } sm={3}> Status: </Col>\n          <Col sm={9}>\n            <FormControl componentClass=\"select\" name=\"status\" value={issue.status} onChange={this.onChange}>\n              <option value=\"New\">New</option>\n              <option value=\"Open\">Open</option>\n              <option value=\"Assigned\">Assigned</option>\n              <option value=\"Fixed\">Fixed</option>\n              <option value=\"Verified\">Verified</option>\n              <option value=\"Closed\">Closed</option>\n            </FormControl>\n          </Col>\n        </FormGroup>\n        <FormGroup>\n          <Col componentClass={ ControlLabel } sm={3}> Owner: </Col>\n          <Col sm={9}>\n            <FormControl name=\"owner\" value={issue.owner} onChange={this.onChange}/>\n          </Col>\n        </FormGroup>\n        <FormGroup>\n          <Col componentClass={ ControlLabel } sm={3}> Effort:</Col>\n          <Col sm={9}>\n            <FormControl componentClass={NumInput} name=\"effort\" value={issue.effort} onChange={this.onChange}/>\n          </Col>\n        </FormGroup>\n      {/*validationState is an instrument of react-bootstrap. variants of values of validateState are these:\n      error, succes, warning. in our case it'll be 'error' or 'null'*/}\n        <FormGroup validationState={this.state.invalidFields.completionDate ? 'error' : null}>\n          <Col componentClass={ ControlLabel } sm={3}> Completion Date:</Col>\n          <Col sm={9}>\n            <FormControl componentClass={DateInput} name=\"completionDate\" value={issue.completionDate} \n            onChange={this.onChange} onValidityChange={this.onValidityChange} />\n          {/*Feetback means the icon in the line if validation isn't passed*/}\n            <FormControl.Feedback />\n          </Col>\n        </FormGroup>\n        <FormGroup>\n          <Col componentClass={ ControlLabel } sm={3}> Title:</Col>\n          <Col sm={9}>\n            <FormControl name=\"title\" value={issue.title} onChange={this.onChange}/>\n          </Col>\n        </FormGroup>\n        <FormGroup>\n          <Col smOffset={3} sm={6}> \n            <ButtonToolbar>\n              <Button bsStyle=\"primary\" type=\"submit\">Submit</Button>\n              <LinkContainer to=\"/issues\"> \n                <Button bsStyle=\"link\" type=\"submit\">Back</Button>\n              </LinkContainer>\n            </ButtonToolbar>\n          </Col>\n        </FormGroup>\n        <FormGroup>\n          <Col smOffset={3} sm={6}>{validationMessage}</Col>\n        </FormGroup>\n        </Form>\n        <Toast showing={this.state.toastVisible} message={this.state.toastMessage} onDismiss={this.dismissToast}\n        bsStyle={this.state.toastType}/>\n        {/*every input, including 'select', has 'name' property for differetiate one from one for onChange\n          function, which is common method for all of the inputs*/}\n        {/*'this' helps us identify a target of event in onChange() function*/}\n      {/*LinkContainer allows styling button as a link and send user to issues page*/}\n      </Panel>\n       \n    );\n  }\n}\nIssueEdit.propTypes = {\n  params: PropTypes.object.isRequired,\n};\nIssueEdit.contextTypes = {\n  initialState: PropTypes.object,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/IssueEdit.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class NumInput extends React.Component {\n  constructor(props) {\n    super(props);\n    //local state with transient state\n    this.state = { value: this.format(props.value) };\n    this.onBlur = this.onBlur.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n  componentWillReceiveProps(newProps) {\n    this.setState({ value: this.format(newProps.value) });\n  }\n  onBlur(e) {\n    //pass local, transient state to parent after user finished edit, where it became persistence one\n    this.props.onChange(e, this.unformat(this.state.value));\n  }\n  onChange(e) {\n    //change persistent state accordingly local state, if it's validated successfully\n    if(e.target.value.match(/^\\d*$/)) {\n      this.setState({ value: e.target.value });\n    }\n  }\n  format(num) {\n    //convert number to string, otherwise leave the field empty\n    return num !=null ? num.toString() : '';\n  }\n  unformat(str) {\n    //convert string to a number, check if it is a number really, and put it \n    //into the field, otherwise put null value to the field\n    const val = parseInt(str, 10);\n    console.log(val);\n    return isNaN(val) ? null : val;\n  }\n  render() {\n    return(\n      //{...this.props} passing parent's properties into this input's properties\n      //Note, that it is very significant, where we place it concerning native properties, first one overrided by last one\n      <input type='text' {...this.props} value={this.state.value} onBlur={this.onBlur} onChange={this.onChange}/>\n    )\n  }\n}\nNumInput.propTypes = {\n  value: PropTypes.number,\n  onChange: PropTypes.func.isRequired,\n}\n\n\n// WEBPACK FOOTER //\n// ./src/NumInput.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class DateInput extends React.Component {\n  constructor(props) {\n    super(props);\n    //state for date field initially not focused, and valid, because of shows valid data\n    this.state = { value: this.editFormat(props.value), focused: false, valid: true };\n    this.onFocus = this.onFocus.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onChange = this.onChange.bind(this);\n  }\n  componentWillReceiveProps(newProps) {\n  //newProps here is edited by user date field. if it was editet, this.state knows about this new values\n    if (newProps.value !== this.props.value) {\n      this.setState({ value: this.editFormat(newProps.value) });\n    }\n  }\n  onFocus() {\n    //this one only changed the focused value in this.state, when user clicked on date field\n    this.setState({ focused: true });\n  }\n  onBlur(e) {\n    //if user typed wrong date, value will be null/ if correct, it will be new date, which he typed\n    const value = this.unformat(this.state.value);\n    //if user type wrong date, valid will be false/ if correct, it will be true\n    const valid = this.state.value === '' || value != null;\n    //if this.state.value != '' && this.unformat(this.state.value) != null\n    //and also if there is any value in onValidityChange prop from parent component\n    if (valid !== this.state.valid && this.props.onValidityChange) {\n      //that parent component recieves two arguments, including 'valid' (this.unformat(this.state value))\n      this.props.onValidityChange(e, valid);\n    }\n    //then we miss focuse, and confirm that valid is true\n    this.setState({ focused: false, valid });\n    if (valid) {\n      //setting parent's onChange with the edited by user and correct date\n      this.props.onChange(e, value);\n    }\n  }\n  onChange(e) {\n    //if new value from user corresponding to RegExp, this value can exist in this field, otherwise it even doesn't typing in\n    if (e.target.value.match(/^[\\d-]*$/)) {\n      this.setState({ value: e.target.value });\n    }\n  }\n  displayFormat(date) {\n    return (date != null) ? date.toDateString() : '';\n  }\n  editFormat(date) {\n    //if there is any date, convert it to string ISO standart from 0 index to 9 (10 symb.length)\n    return (date != null) ? date.toISOString().substr(0, 10) : '';\n  }\n  unformat(str) {\n    //this one check is new unsetted state is a number, and if it is, allows it exist in this field\n    const val = new Date(str);\n    return isNaN(val.getTime()) ? null : val;\n  }\n  render() {\n  {/*define the conditions for clasName='invalid' (for next styling it and showing to user, that it is)*/}\n   \n    const value = (this.state.focused || !this.state.valid) ? this.state.value : this.displayFormat(this.props.value);\n    const childProps = Object.assign({}, this.props); {/*clone parent props to const childProps*/}\n    delete childProps.onValidityChange; {/*remove unnecessary property onValidityChange*/}\n    return (\n      <input type=\"text\" {...childProps} value={value} \n      placeholder={this.state.focused ? 'yyyy-mm-dd' : null} \n      onFocus={this.onFocus} onBlur={this.onBlur} onChange={this.onChange} />\n    );\n  }\n}\nDateInput.propTypes = {\n  value: PropTypes.object,\n  onChange: PropTypes.func.isRequired,\n  onValidityChange: PropTypes.func,\n  name: PropTypes.string.isRequired,\n}\n\n\n// WEBPACK FOOTER //\n// ./src/DateInput.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class ContextWrapper extends React.Component {\n  getChildContext() {\n    return { initialState: this.props.initialState };\n  }\n  render() {\n    return this.props.children;\n  }\n}\nContextWrapper.childContextTypes = {\n  initialState: PropTypes.object,\n}\nContextWrapper.propTypes = {\n  children: PropTypes.object.isRequired,\n  initialState: PropTypes.object,\n}\n\n\n// WEBPACK FOOTER //\n// ./src/ContextWrapper.jsx","module.exports = require(\"isomorphic-fetch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"isomorphic-fetch\"\n// module id = 31\n// module chunks = 0"],"sourceRoot":""}